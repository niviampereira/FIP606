{
  "hash": "2b7b331ea1e73f5595a9d5f661e0fb38",
  "result": {
    "markdown": "---\ntitle: \"Aula16\"\nauthor: \"Nívia\"\nformat: html\n---\n\n\n## Mapas no R\n\n\n::: {.cell hash='Aula16_cache/html/unnamed-chunk-1_1e09804fcfa5a42292c69ec5ce7f08ab'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(readxl)\nlibrary(readr)\nlibrary(ggplot2)\nlibrary(r4pde)\nlibrary(rnaturalearth)\nlibrary(rnaturalearthhires)\n```\n:::\n\n\nInstalar pacote do github:\n\n\n::: {.cell hash='Aula16_cache/html/unnamed-chunk-2_dfaad54047b542554f699e1d4133f0b5'}\n\n```{.r .cell-code}\nremotes::install_github(\"ropensci/rnaturalearthhires\")\n```\n:::\n\n\nConjunto de dados: Para plotar o mapa do pais, usa-se a função ne_countries\n\n\n::: {.cell hash='Aula16_cache/html/unnamed-chunk-3_b629d564d46ce0a2b32821932dbf9e38'}\n\n```{.r .cell-code}\nsbr <- RustSoybean\n\nBRA <- ne_countries(country = \"Brazil\", \n                    returnclass = \"sf\")\nggplot(BRA) +\ngeom_sf(fill = \"white\")\n```\n\n::: {.cell-output-display}\n![](Aula16_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\nPara plotar os estados:\n\n\n::: {.cell hash='Aula16_cache/html/unnamed-chunk-4_1f54a5d4d4c815f2d590132509754c4f'}\n\n```{.r .cell-code}\nBRA <- ne_states(country = \"Brazil\", \n                    returnclass = \"sf\")\nggplot(BRA) +\ngeom_sf(color = \"white\",\n          fill = \"darkgreen\") +\n  theme_void()\n```\n\n::: {.cell-output-display}\n![](Aula16_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\nPara selecionar um estado: Para\n\n\n::: {.cell hash='Aula16_cache/html/unnamed-chunk-5_99b8570ccbf8d0371e68e7269b06311a'}\n\n```{.r .cell-code}\nBRA <- ne_states(country = \"Brazil\", \n                    returnclass = \"sf\")\nMG <- BRA |> filter(name_en == \"Minas Gerais\")\nggplot(BRA) +\ngeom_sf(color = \"black\",\n          fill = \"white\") +\n  geom_sf(data = MG, color = \"black\",\n            fill = \"green\")\n```\n\n::: {.cell-output-display}\n![](Aula16_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\nPara inserir os pontos especificos dos dados (latitude e longitude): Para plotar os pontos, precisa-se das coordenadas de onde foram coletados os pontos. Ex.: pontos de coleta - precisa-se coletar as coordenadas para plotar em um mapa (no caso de ser só o municipio, pode pegar na internet as coordenadas).\n\n\n::: {.cell hash='Aula16_cache/html/unnamed-chunk-6_ff8f9a3901787b3567f12f7c5b0fe955'}\n\n```{.r .cell-code}\nBRA <- ne_states(country = \"Brazil\", \n                    returnclass = \"sf\")\nMG <- BRA |> filter(name_en == \"Minas Gerais\")\nggplot(BRA) +\ngeom_sf(color = \"black\",\n          fill = \"white\") +\n  geom_point(data = sbr, aes(longitude, latitude), alpha = 0.5)\n```\n\n::: {.cell-output-display}\n![](Aula16_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\nPara separar a data em dia, mês e ano:\n\n\n::: {.cell hash='Aula16_cache/html/unnamed-chunk-7_ecae2fcd11f3ae7d836e85fa6beebc46'}\n\n```{.r .cell-code}\nsbr2 <- sbr |>\n  separate(planting, into = \n             c(\"year\", \"month\", \"day\"), sep = \"-\", remove = FALSE)\n\nBRA <- ne_states(country = \"Brazil\", \n                    returnclass = \"sf\")\nMG <- BRA |> filter(name_en == \"Minas Gerais\")\nggplot(BRA) +\ngeom_sf(color = \"black\",\n          fill = \"white\") +\n  geom_point(data = sbr2,\n             aes(longitude, latitude, color = year), alpha = 0.5)+\n  facet_wrap(~year)+\n  theme_void()\n```\n\n::: {.cell-output-display}\n![](Aula16_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\nComo inserir a rosa dos ventos e a escala no mapa:\n\n\n::: {.cell hash='Aula16_cache/html/unnamed-chunk-8_dd0df71805120187c018e8357389fe6e'}\n\n```{.r .cell-code}\nlibrary(ggspatial)\nggplot(BRA) +\n  annotation_north_arrow(location = \"bl\")+\n  annotation_scale(location = \"br\")+\n  geom_sf(color = \"black\",\n          fill = \"white\") +\n  geom_point(data = sbr2,\n             aes(longitude, latitude, color = year, size = severity), alpha = 0.5)+\n  labs(color = \"Planting Year\")+\n  theme_minimal()+\n  theme(legend.position = \"right\")\n```\n\n::: {.cell-output-display}\n![](Aula16_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}
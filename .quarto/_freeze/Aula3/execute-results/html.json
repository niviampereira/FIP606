{
  "hash": "56a4e26835cf3ad2a28229f711c2ff73",
  "result": {
    "markdown": "---\ntitle: \"Aula3dataframe\"\nauthor: \"Nívia\"\nformat: html\n---\n\n\n# Data frames\n\n## Importando dados\n\nPara a leitura de dados em R, deve-se salvar o arquivo em um formato adequado.\n\n## Dados de pacotes (packages)\n\nPara carregar o dataframe, pode-se usar pacotes do R, a exemplo do pacote dataset, que tem em suas funções o pacote cars.\n\n\n::: {.cell hash='Aula3_cache/html/unnamed-chunk-1_4f8f997d4485672e643518a619fba1e3'}\n\n```{.r .cell-code}\ncars\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   speed dist\n1      4    2\n2      4   10\n3      7    4\n4      7   22\n5      8   16\n6      9   10\n7     10   18\n8     10   26\n9     10   34\n10    11   17\n11    11   28\n12    12   14\n13    12   20\n14    12   24\n15    12   28\n16    13   26\n17    13   34\n18    13   34\n19    13   46\n20    14   26\n21    14   36\n22    14   60\n23    14   80\n24    15   20\n25    15   26\n26    15   54\n27    16   32\n28    16   40\n29    17   32\n30    17   40\n31    17   50\n32    18   42\n33    18   56\n34    18   76\n35    18   84\n36    19   36\n37    19   46\n38    19   68\n39    20   32\n40    20   48\n41    20   52\n42    20   56\n43    20   64\n44    22   66\n45    23   54\n46    24   70\n47    24   92\n48    24   93\n49    24  120\n50    25   85\n```\n:::\n\n```{.r .cell-code}\ncars2 <- cars\nspeed <- cars2$speed\nspeed\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1]  4  4  7  7  8  9 10 10 10 11 11 12 12 12 12 13 13 13 13 14 14 14 14 15 15\n[26] 15 16 16 17 17 17 18 18 18 18 19 19 19 20 20 20 20 20 22 23 24 24 24 24 25\n```\n:::\n:::\n\n\nPara criar um dataframe de pacote, basta carregar o pacote e depois atribui-lo. Para atribuir uma função a outra, basta usar \\<-. \nEx.: buscar em packages o pacote r4pde e carrega-lo (usando a função library), dentro do quadro de ajuda deste pacote, é possível encontrar os dataframes incorporados, como o RustSoybean. Para usar esse quadro de dados basta usar a função de atribuição.\n\n\n::: {.cell hash='Aula3_cache/html/unnamed-chunk-2_d38341b5322a368345884f1808d0c5f7'}\n\n```{.r .cell-code}\nlibrary(r4pde)\ndf <- RustSoybean\ndf\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 34 × 7\n   epidemia latitude longitude local              planting   detection  severity\n      <dbl>    <dbl>     <dbl> <chr>              <date>     <date>        <dbl>\n 1       23    -23.0     -50.1 Cambara            2003-11-25 2004-02-02     24  \n 2       24    -24.0     -52.4 Campo Mourao       2003-11-28 2004-02-02     21  \n 3       31    -15.5     -55.2 Campo Verde        2004-11-20 2005-01-25     78  \n 4        3    -13.3     -44.6 Correntina         2002-11-10 2003-01-03     85  \n 5       15    -13.3     -44.6 Correntina         2003-11-28 2004-01-31     25  \n 6       34    -25.4     -51.5 Guarapuava         2004-11-29 2005-03-14     32  \n 7        7    -29.2     -53.7 Julio Castilhos    2002-12-15 2003-04-10     40  \n 8       13    -12.1     -45.8 Luis Eduardo Maga… 2003-11-12 2004-02-15     39.2\n 9       33    -12.1     -45.8 Luis Eduardo Maga… 2004-11-19 2005-01-25     55  \n10        1    -23.3     -51.2 Londrina           2002-11-06 2003-02-03     45  \n# ℹ 24 more rows\n```\n:::\n:::\n\n\nA função para a leitura de dados no R é a read.table. O R possui um bom número de variantes desta função, usadas para importar uma variedade de formatos de arquivos diferentes no R. As variações da função read.table mais úteis são as funções read.csv e read.csv2 e readxl.\n\n## Dados em formato Excel\n\nPara importar dados diretamente de outros softwares, é necessário instalar pacotes, a exemplo do readxl, usado para a importação de planilhas do excel. O pacote readxl permite gerar dataframe de planilhas excel e é a forma mais simples de carregar um arquivo neste formato. O pacote readxl não é do conjunto tidyverse, então precisa ser carregado sempre antes de usar. A maioria das funções do readxl permite ler dados de planilhas excel, a exemplo de read_excel. O primeiro argumento para read-excel é o caminho do arquivo que deve ser lido.O caminho do arquivo e o nome do arquivo (incluindo a extensão do arquivo) precisam ser colocados entre aspas duplas, pois a função espera que seja uma função de caractere.\n\n\n::: {.cell hash='Aula3_cache/html/unnamed-chunk-3_635407c3aaf6707d6d03d2227bcfc7c1'}\n\n```{.r .cell-code}\nlibrary(readxl)\nmagnesio <- read_excel(\"dados-diversos.xlsx\")\nescala1 <- read_excel(\"dados-diversos.xlsx\", \"escala\")\nescala2 <- read_excel(\"dados-diversos.xlsx\", 2)\n```\n:::\n\n\n## Dados em formato csv\n\nPara chamar um arquivo csv, usa-se a função read.csv. A função read.csv é usada para importar arquivos de valores separados por , e com a primeira linha dos dados com os nomes das variáveis). Também temos a função read.csv2, que assume que os dados são separados por ; e que uma vírgula é usada ao inves de um ponto decimal.\n\nDiversas funções do pacote reader também podem ser utilizadas para importação de quadro de dados. O pacote reader faz parte da coleção de pacotes tidyverse. As funções do reader são usadas de forma semelhante as do read.table e read.csv, sendo que muitas vezes usam os mesmos argumentos. Ex: podem ser utilizadas as funções read_table,read_csv e read_csv2, ao invés das dunções do read.table.\n\n\n::: {.cell hash='Aula3_cache/html/unnamed-chunk-4_d90bcfba448e689cf07bc6dc24d47457'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\n#using read.csv\n\nmagnesio2 <- read.csv(\"dados-diversos.csv\")\n\n#using read_csv\nmagnesio3 <- read_csv(\"dados-diversos.csv\")\nmagnesio3\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 60 × 4\n   Irrigation   rep   day severity\n   <chr>      <dbl> <dbl>    <dbl>\n 1 Furrow         1     0     0.01\n 2 Furrow         2     0     0.01\n 3 Furrow         3     0     0.01\n 4 Furrow         1     7     0.04\n 5 Furrow         2     7     0.04\n 6 Furrow         3     7     0.04\n 7 Furrow         1    14     0.1 \n 8 Furrow         2    14     0.1 \n 9 Furrow         3    14     0.11\n10 Furrow         1    21     0.11\n# ℹ 50 more rows\n```\n:::\n:::\n\n\n## Dados em formato txt\n\nArquivos em formato txt devem ser importados usando o read.table.\n\n\n::: {.cell hash='Aula3_cache/html/unnamed-chunk-5_55fc048b1457204f3825e7112afc8dbe'}\n\n```{.r .cell-code}\n# using read.table\n\nmagnesio4 <-read.table(\"dados-diversos.txt\", header = TRUE)\nmagnesio4\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   Irrigation.rep.day.severity\n1              Furrow,1,0,0.01\n2              Furrow,2,0,0.01\n3              Furrow,3,0,0.01\n4              Furrow,1,7,0.04\n5              Furrow,2,7,0.04\n6              Furrow,3,7,0.04\n7             Furrow,1,14,0.10\n8             Furrow,2,14,0.10\n9             Furrow,3,14,0.11\n10            Furrow,1,21,0.11\n11            Furrow,2,21,0.10\n12            Furrow,3,21,0.10\n13            Furrow,1,28,0.15\n14            Furrow,2,28,0.17\n15            Furrow,3,28,0.15\n16            Furrow,1,35,0.18\n17            Furrow,2,35,0.19\n18            Furrow,3,35,0.19\n19            Furrow,1,42,0.34\n20            Furrow,2,42,0.38\n21            Furrow,3,42,0.34\n22            Furrow,1,49,0.38\n23            Furrow,2,49,0.39\n24            Furrow,3,49,0.38\n25            Furrow,1,56,0.40\n26            Furrow,2,56,0.41\n27            Furrow,3,56,0.43\n28            Furrow,1,63,0.46\n29            Furrow,2,63,0.46\n30            Furrow,3,63,0.43\n31               Drip,1,0,0.01\n32               Drip,2,0,0.01\n33               Drip,3,0,0.01\n34               Drip,1,7,0.03\n35               Drip,2,7,0.04\n36               Drip,3,7,0.04\n37              Drip,1,14,0.11\n38              Drip,2,14,0.11\n39              Drip,3,14,0.10\n40              Drip,1,21,0.13\n41              Drip,2,21,0.12\n42              Drip,3,21,0.10\n43              Drip,1,28,0.16\n44              Drip,2,28,0.15\n45              Drip,3,28,0.15\n46              Drip,1,35,0.18\n47              Drip,2,35,0.19\n48              Drip,3,35,0.17\n49              Drip,1,42,0.30\n50              Drip,2,42,0.33\n51              Drip,3,42,0.34\n52              Drip,1,49,0.33\n53              Drip,2,49,0.37\n54              Drip,3,49,0.37\n55              Drip,1,56,0.39\n56              Drip,2,56,0.46\n57              Drip,3,56,0.41\n58              Drip,1,63,0.43\n59              Drip,2,63,0.43\n60              Drip,3,63,0.43\n```\n:::\n:::\n\n\n**Obs.:** O argumento header = TRUE especifica que a primeira linha dos dados contem o nome das variáveis (ex. magnesio, nitrogenio), se este não for o caso é só usar o argumento header = FALSE.\n\n## Dados em planilhas google sheet\n\nPara importar planilhas google, usa a função gsheet (read_sheet), presente no pacote googlesheets4. Como esse pacote também não faz parte do conjunto tidyverse, precisa carrega-lo para usar. A função read_gsheet lê o arquivo (planilha google) a partir de uma URL (copia e cola o link da planilha desejada).\n\n\n::: {.cell hash='Aula3_cache/html/unnamed-chunk-6_d380530b175c3d548655acd02a305b00'}\n\n```{.r .cell-code}\n# using gsheet package\n\nlibrary(gsheet)\nmagnesio5 <- gsheet2tbl(\"https://docs.google.com/spreadsheets/d/1aID5Dh6PlBVCKzU1j7k-WA6zuWQWE2NhtWEgdJtt5iA/edit?usp=sharing\")\n\nsurvey <- gsheet2tbl(\"https://docs.google.com/spreadsheets/d/1aID5Dh6PlBVCKzU1j7k-WA6zuWQWE2NhtWEgdJtt5iA/edit#gid=366054269\")\n\n# no caso de ter um link da internet\n\nfusarium <- read_csv(\"https://raw.githubusercontent.com/emdelponte/epidemiology-R/main/data/fusarium_banana.csv\")\nfusarium\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 163 × 4\n     lon   lat marker  field\n   <dbl> <dbl> <chr>   <dbl>\n 1 -50.8 -20.5 plantas    11\n 2 -50.8 -20.5 plantas    11\n 3 -50.8 -20.5 plantas    11\n 4 -50.8 -20.5 plantas    11\n 5 -50.8 -20.5 plantas    11\n 6 -50.8 -20.5 plantas    11\n 7 -50.8 -20.5 plantas    11\n 8 -50.8 -20.5 plantas    11\n 9 -50.8 -20.5 plantas    11\n10 -50.8 -20.5 plantas    11\n# ℹ 153 more rows\n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}